(this["webpackJsonpinstanced-vertex-colors"]=this["webpackJsonpinstanced-vertex-colors"]||[]).push([[0],{46:function(e,t,r){},47:function(e,t,r){"use strict";r.r(t);var a=r(9),n=r(4),s=r(29),c=r.n(s),o=r(7),i=r(17),u=r(30),l=r(37),f=r(21),j=r(31),b=r(36),h=r(38),d=r(32),O=r(10);function x(){var e=Object(o.useRef)(),t=Object(i.d)(),r=t.scene,a=t.gl,n=t.size,s=t.camera;return Object(o.useEffect)((function(){e.current.setSize(n.width,n.height)}),[n]),Object(i.c)((function(){return e.current.render()}),2),Object(O.jsxs)("effectComposer",{ref:e,args:[a],children:[Object(O.jsx)("renderPass",{attachArray:"passes",scene:r,camera:s}),Object(O.jsx)("sSAOPass",{attachArray:"passes",args:[r,s],kernelRadius:.4,maxDistance:.03}),Object(O.jsx)("shaderPass",{attachArray:"passes",args:[d.a],"material-uniforms-resolution-value":[1/n.width,1/n.height],renderToScreen:!0})]})}Object(i.b)({EffectComposer:l.a,ShaderPass:f.a,RenderPass:j.a,SSAOPass:b.a,UnrealBloomPass:h.a});r(46);var m=new n.Object3D,p=new n.Color,g=Array.from({length:1e3},(function(){return{color:u[17][Math.floor(5*Math.random())],scale:1}}));function v(){var e=Object(o.useState)(),t=Object(a.a)(e,2),r=t[0],s=t[1],c=Object(o.useMemo)((function(){return Float32Array.from(new Array(1e3).fill().flatMap((function(e,t){return p.set(g[t].color).toArray()})))}),[]),u=Object(o.useRef)(),l=Object(o.useRef)();return Object(o.useEffect)((function(){l.current=r}),[r]),Object(i.c)((function(e){var t=e.clock.getElapsedTime();u.current.rotation.x=Math.sin(t/4),u.current.rotation.y=Math.sin(t/2);for(var a=0,s=0;s<10;s++)for(var o=0;o<10;o++)for(var i=0;i<10;i++){var f=a++;m.position.set(5-s,5-o,5-i),m.rotation.y=Math.sin(s/4+t)+Math.sin(o/4+t)+Math.sin(i/4+t),m.rotation.z=2*m.rotation.y,r!==l.Current&&(p.set(f===r?"white":g[f].color).toArray(c,3*f),u.current.geometry.attributes.color.needsUpdate=!0);var j=g[f].scale=n.MathUtils.lerp(g[f].scale,f===r?3:1,.1);m.scale.setScalar(j),m.updateMatrix(),u.current.setMatrixAt(f,m.matrix)}u.current.instanceMatrix.needsUpdate=!0})),Object(O.jsxs)("instancedMesh",{ref:u,args:[null,null,1e3],onPointerMove:function(e){return s(e.instanceId)},onPointerOut:function(e){return s(void 0)},children:[Object(O.jsx)("boxGeometry",{args:[.6,.6,.6],children:Object(O.jsx)("instancedBufferAttribute",{attachObject:["attributes","color"],args:[c,3]})}),Object(O.jsx)("meshPhongMaterial",{vertexColors:n.VertexColors})]})}c.a.render(Object(O.jsxs)(i.a,{linear:!0,gl:{antialias:!1,alpha:!1},camera:{position:[0,0,15],near:5,far:20},onCreated:function(e){return e.gl.setClearColor("#f0f0f0")},children:[Object(O.jsx)("ambientLight",{}),Object(O.jsx)("pointLight",{position:[150,150,150],intensity:.55}),Object(O.jsx)(v,{}),Object(O.jsx)(x,{})]}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.184a36ca.chunk.js.map